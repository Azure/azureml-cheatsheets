(self.webpackChunkaml_cheatsheet=self.webpackChunkaml_cheatsheet||[]).push([[316],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=s(n),d=a,h=m["".concat(l,".").concat(d)]||m[d]||u[d]||i;return n?r.createElement(h,p(p({ref:t},c),{},{components:n})):r.createElement(h,p({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,p=new Array(i);p[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,p[1]=o;for(var s=2;s<i;s++)p[s]=n[s];return r.createElement.apply(null,p)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3347:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return p},metadata:function(){return o},toc:function(){return l},default:function(){return c}});var r=n(4034),a=n(9973),i=(n(7294),n(3905)),p={title:"Azure ML \u4e0a\u3067\u306e\u958b\u767a",description:"Guide to developing your code on Azure ML.",keywords:["ssh","development","compute"]},o={unversionedId:"cheatsheets/python/v1/ci-dev",id:"cheatsheets/python/v1/ci-dev",isDocsHomePage:!1,title:"Azure ML \u4e0a\u3067\u306e\u958b\u767a",description:"Guide to developing your code on Azure ML.",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/cheatsheets/python/v1/ci-dev.md",sourceDirName:"cheatsheets/python/v1",slug:"/cheatsheets/python/v1/ci-dev",permalink:"/azureml-cheatsheets/ja/docs/cheatsheets/python/v1/ci-dev",editUrl:"https://github.com/Azure/azureml-cheatsheets/tree/main/website/docs/cheatsheets/python/v1/ci-dev.md",version:"current",frontMatter:{title:"Azure ML \u4e0a\u3067\u306e\u958b\u767a",description:"Guide to developing your code on Azure ML.",keywords:["ssh","development","compute"]},sidebar:"pythonSidebar",previous:{title:"\u30c7\u30d0\u30c3\u30b0",permalink:"/azureml-cheatsheets/ja/docs/cheatsheets/python/v1/debugging"},next:{title:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",permalink:"/azureml-cheatsheets/ja/docs/cheatsheets/python/v1/troubleshooting"}},l=[{value:"\ud83d\udea7 \u30cf\u30fc\u30c9\u30eb",id:"-\u30cf\u30fc\u30c9\u30eb",children:[]},{value:"\ud83d\udd70\ufe0f \u958b\u767a\u7528\u8a08\u7b97\u74b0\u5883\u306e\u6e96\u5099",id:"\ufe0f-\u958b\u767a\u7528\u8a08\u7b97\u74b0\u5883\u306e\u6e96\u5099",children:[]},{value:"\ud83c\udfc3\u200d\u2640\ufe0f \u30b3\u30de\u30f3\u30c9",id:"\u2640\ufe0f-\u30b3\u30de\u30f3\u30c9",children:[]},{value:"\u30e1\u30ea\u30c3\u30c8",id:"\u30e1\u30ea\u30c3\u30c8",children:[]},{value:"\u4f8b",id:"\u4f8b",children:[]}],s={toc:l};function c(e){var t=e.components,n=(0,a.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"\u672c\u30ac\u30a4\u30c9\u3067\u306f\u3001Azure ML \u4e0a\u3067\u306e\u30b3\u30fc\u30c9\u958b\u767a\u3092\u3059\u308b\u305f\u3081\u306e\u30dd\u30a4\u30f3\u30c8\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\u5178\u578b\u7684\u306a\u30b7\u30ca\u30ea\u30aa\u3068\u3057\u3066\u306f\u3001\u5206\u6563\u5b66\u7fd2\u306e\u30b3\u30fc\u30c9\u306e\u30c6\u30b9\u30c8\u3084\u30ed\u30fc\u30ab\u30eb\u306e\u958b\u767a\u74b0\u5883\u3067\u306e\u518d\u73fe\u304c\u96e3\u3057\u3044\u3082\u306e\u3092\u5bfe\u8c61\u306b\u3057\u307e\u3059\u3002"),(0,i.kt)("p",null,"\u3053\u308c\u3089\u306e\u30b7\u30ca\u30ea\u30aa\u306e\u5171\u901a\u306e\u30da\u30a4\u30f3\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u7279\u306b VM \u4e0a\u3067\u306e\u958b\u767a\u3068\u6bd4\u8f03\u3057\u3066\u3001Azure ML \u3067\u306e\u7e70\u308a\u8fd4\u3057\u4f5c\u696d\u304c\u9045\u304f\u611f\u3058\u3089\u308c\u308b\u70b9\u3067\u3059\u3002"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u672c\u30ac\u30a4\u30c9\u306e\u76ee\u7684."),"  Azure ML \u4e0a\u3067\u306e\u958b\u767a\u4f53\u9a13\u3092\u30d9\u30a2\u30e1\u30bf\u30eb\u306e VM \u3068\u540c\u7b49\u3082\u3057\u304f\u306f\u305d\u308c\u4ee5\u4e0a\u306b\u6539\u5584\u3059\u308b\u3053\u3068\u3053\u3068\u3002"),(0,i.kt)("h2",{id:"-\u30cf\u30fc\u30c9\u30eb"},"\ud83d\udea7 \u30cf\u30fc\u30c9\u30eb"),(0,i.kt)("p",null,"Azure ML \u3067\u306e\u958b\u767a\u304c\u9045\u304f\u611f\u3058\u3089\u308c\u308b\u4e3b\u306a\u7406\u7531\u306f 2 \u3064\u3042\u308a\u307e\u3059\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Python \u74b0\u5883\u306e\u5909\u66f4\u306b\u306f Docker \u30a4\u30e1\u30fc\u30b8\u306e\u518d\u69cb\u7bc9\u304c\u5fc5\u9808\u3068\u306a\u308a\u3001\u901a\u5e38 5 \u5206\u4ee5\u4e0a\u304b\u304b\u308b\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u8a08\u7b97\u30ea\u30bd\u30fc\u30b9\u306f\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u9593\u306b ",(0,i.kt)("em",{parentName:"li"},"\u89e3\u653e\u3055\u308c\u308b")," \u305f\u3081\u306b\u3001(Docker \u30a4\u30e1\u30fc\u30b8\u306e Pull \u306a\u3069\u306e) \u30a6\u30a9\u30fc\u30e0\u30a2\u30c3\u30d7\u306e\u5f85\u6a5f\u6642\u9593\u304c\u767a\u751f\u3059\u308b\u3002")),(0,i.kt)("p",null,"\u4e0b\u8a18\u306b\u3066\u3053\u308c\u3089\u306e\u554f\u984c\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306e\u3044\u304f\u3064\u304b\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3068\u3001Azure ML Compute \u3092\u76f4\u63a5\u5229\u7528\u3059\u308b\u30e1\u30ea\u30c3\u30c8\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\u307e\u305f\u3053\u308c\u3089\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3092\u5fdc\u7528\u3057\u305f ",(0,i.kt)("a",{parentName:"p",href:"#%E4%BE%8B"},"\u4f8b")," \u3082\u3044\u304f\u3064\u304b\u63d0\u4f9b\u3057\u307e\u3059\u3002"),(0,i.kt)("h2",{id:"\ufe0f-\u958b\u767a\u7528\u8a08\u7b97\u74b0\u5883\u306e\u6e96\u5099"},"\ud83d\udd70\ufe0f \u958b\u767a\u7528\u8a08\u7b97\u74b0\u5883\u306e\u6e96\u5099"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 / \u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30af\u30e9\u30b9\u30bf\u30fc")," \u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u3001\u4f55\u70b9\u304b\u8a2d\u5b9a\u4e8b\u9805\u304c\u3042\u308a\u307e\u3059j\u3002 : "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"SSH \u306e\u6709\u52b9\u5316")),(0,i.kt)("p",{parentName:"li"},"SSH \u306f\u3001",(0,i.kt)("em",{parentName:"p"},"\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9")," \u3068 ",(0,i.kt)("em",{parentName:"p"},"\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30af\u30e9\u30b9\u30bf\u30fc")," \u306e\u4e21\u65b9\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002VM \u306e\u3088\u3046\u306b\u64cd\u4f5c\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002"),(0,i.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"VS Code Remote Extension.")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"VS Code \u306e ",(0,i.kt)("a",{parentName:"p",href:"https://code.visualstudio.com/docs/remote/ssh"},"remote extension"),"\n\u306f SSH \u7d4c\u7531\u3067 Azure ML \u3078\u306e\u8a08\u7b97\u30ea\u30bd\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u304c\u3067\u304d\u307e\u3059\u3002\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u76f4\u63a5\u958b\u767a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002")))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},'"\u30b9\u30b1\u30fc\u30eb\u30c0\u30a6\u30f3\u3059\u308b\u524d\u306e\u30a2\u30a4\u30c9\u30eb\u6642\u9593 (\u79d2)" \u306e\u5897\u52a0')),(0,i.kt)("p",{parentName:"li"},"\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30af\u30e9\u30b9\u30bf\u30fc\u306f\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f8b\u3048\u3070 30 \u5206\u306b\u5897\u3084\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u958b\u767a\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u3057\u3066\u3044\u308b\u9593\u306b\u8a08\u7b97\u74b0\u5883\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002"),(0,i.kt)("div",{parentName:"li",className:"admonition admonition-warning alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"\u958b\u767a\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86\u5f8c\u306b\u5143\u306b\u623b\u3059\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"))))),(0,i.kt)("h2",{id:"\u2640\ufe0f-\u30b3\u30de\u30f3\u30c9"},"\ud83c\udfc3\u200d\u2640\ufe0f \u30b3\u30de\u30f3\u30c9"),(0,i.kt)("p",null,"\u901a\u5e38 \u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a ",(0,i.kt)("inlineCode",{parentName:"p"},"ScriptRunConfig")," \u3092\u5229\u7528\u3057\u3066 Azure ML \u3078\u9001\u4fe1\u3055\u308c\u307e\u3059 : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"config = ScriptRunConfig(\n    source_directory='<path/to/source_directory>',\n    script='script.py',\n    compute_target=target,\n    environment=env,\n    ...\n)\n")),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"\u30b3\u30fc\u30c9\u3092\u9001\u4fe1\u3059\u308b\u306e\u306b\u5229\u7528\u3059\u308b ",(0,i.kt)("inlineCode",{parentName:"p"},"ScriptRunConfig")," \u306b\u95a2\u3059\u308b\u3088\u308a\u8a73\u7d30\u306a\u60c5\u5831\u306f ",(0,i.kt)("a",{parentName:"p",href:"script-run-config"},"\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b")," \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002"))),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"script-run-config#commands"},(0,i.kt)("inlineCode",{parentName:"a"},"\u30b3\u30de\u30f3\u30c9"))," \u306e\u5f15\u6570\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u30a2\u30b8\u30ea\u30c6\u30a3\u3092\u5411\u4e0a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u8907\u6570\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u9023\u7d50\u3055\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059 : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'command = "pip install torch && python script.py --learning_rate 2e-5".split()\n')),(0,i.kt)("p",null,"\u4ed6\u306e\u4f8b\u3068\u3057\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u542b\u3081\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059 :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="setup.sh"',title:'"setup.sh"'},'echo "Running setup script"\npip install torch\npip install -r requirements.txt\nexport PYTHONPATH=$PWD\n')),(0,i.kt)("p",null,"\u3092\u4f5c\u6210\u3057\u3001\u30b3\u30de\u30f3\u30c9\u3067\u547c\u3073\u51fa\u3057\u307e\u3059\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'command = "bash setup.sh && python script.py --learning_rate 2e-5".split()\n')),(0,i.kt)("p",null,"\u3053\u306e\u65b9\u6cd5\u3067\u3042\u308c\u3070\u3001Azure ML \u306f\u8ffd\u52a0\u5206\u306b\u3064\u3044\u3066 Docker Image \u3092\u30ea\u30d3\u30eb\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u305b\u3093\u3002"),(0,i.kt)("h2",{id:"\u30e1\u30ea\u30c3\u30c8"},"\u30e1\u30ea\u30c3\u30c8"),(0,i.kt)("p",null,"VM \u4e0a\u3067\u306e\u958b\u767a\u304c\u3067\u304d\u308b\u3060\u3051\u3067\u306a\u304f\u3001Azure ML \u306e\u8a08\u7b97\u74b0\u5883\u3092\u76f4\u63a5\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3088\u308b\u30e1\u30ea\u30c3\u30c8\u3082\u3042\u308a\u307e\u3059\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u672c\u756a\u306b\u3059\u3050\u306b\u5c55\u958b\u53ef\u80fd.")," Azure ML \u4e0a\u3067\u76f4\u63a5\u958b\u767a\u3059\u308b\u3053\u3068\u3067\u3001VM \u3067\u958b\u767a\u3057\u305f\u30b3\u30fc\u30c9\u3092 Azure ML \u306b\u79fb\u690d\u3059\u308b\u624b\u9593\u3092\u524a\u6e1b\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u672c\u756a\u30b3\u30fc\u30c9\u3092 Azure ML \u4e0a\u3067\u7a3c\u50cd\u3055\u308c\u308b\u5834\u5408\u306b\u8a72\u5f53\u3057\u307e\u3059\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9.")," \u5b66\u7fd2\u30b9\u30af\u30ea\u30d7\u30c8\u304c Azure \u4e0a\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3059\u308b\u969b\u3001Azure ML Python SDK \u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059 (\u4f8b\u3068\u3057\u3066\u306f ",(0,i.kt)("a",{parentName:"li",href:"data"},"\u30c7\u30fc\u30bf")," \u3092\u53c2\u7167\u306e\u3053\u3068)\u3002\u305d\u308c\u4ee5\u5916\u306e\u65b9\u6cd5\u3068\u306a\u308b\u3068\u30e6\u30fc\u30b6\u81ea\u8eab\u3067\u3001\u958b\u767a\u3057\u3066\u3044\u308b VM \u4e0a\u3067\u30c7\u30fc\u30bf\u304c\u53d6\u5f97\u3067\u304d\u308b\u65b9\u6cd5\u3092\u63a2\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"\u30ce\u30fc\u30c8\u30d6\u30c3\u30af.")," Azure ML \u306e ",(0,i.kt)("em",{parentName:"li"},"\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9")," \u306f Jupyter notebook \u3092\u63d0\u4f9b\u3057\u3066\u304a\u308a\u3001\u30af\u30a4\u30c3\u30af\u306b\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u3053\u3068\u3067\u304d\u307e\u3059\u3002\u52a0\u3048\u3066\u3001\u30ce\u30fc\u30c8\u30d6\u30c3\u30af\u306f\u7570\u306a\u308b\u8a08\u7b97\u57fa\u76e4\u306b\u5bfe\u3057\u3066\u5b9f\u884c\u3067\u304d\u307e\u3059\u3057\u3001\u30b3\u30e9\u30dc\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6a5f\u80fd\u3082\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002")),(0,i.kt)("h2",{id:"\u4f8b"},"\u4f8b"),(0,i.kt)("p",null,"\u3053\u3053\u3067\u306f\u3001\u7c21\u6613\u7684\u306a\u30c7\u30e2\u30f3\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4e0a\u8a18\u306e\u4ed5\u7d44\u307f\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u8003\u3048\u307e\u3059\u3002:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"src/\n    .azureml/\n        config.json     # workspace \u3078\u306e\u63a5\u7d9a\u8a2d\u5b9a\n    train.py            # \u958b\u767a\u3057\u3066\u3044\u308b Python \u30b9\u30af\u30ea\u30d7\u30c8\n    setup.sh            # train.py \u306e\u524d\u306b\u5b9f\u884c\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\n    azureml_run.py      # azure \u3078\u306e job \u5b9f\u884c\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="setup.sh"',title:'"setup.sh"'},'echo "Running setup script"\npip install numpy\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="train.py"',title:'"train.py"'},"import numpy as np\nprint(np.random.rand())\n")),(0,i.kt)("p",null,"Azure ML Python SDK \u3092\u7528\u3044\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u7aef\u672b\u304b\u3089\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="azureml_run.py"',title:'"azureml_run.py"'},"from azureml.core import Workspace, Experiment, ScriptRunConfig\n\n# workspace \u306e\u53d6\u5f97\nws = Workspace.from_config()\ntarget = ws.compute_targets['cpucluster']\nexp = Experiment(ws, 'dev-example')\n\ncommand = \"bash setup.sh && python script.py\".split()\n\n# script run \u69cb\u6210\u8a2d\u5b9a\nconfig = ScriptRunConfig(\n    source_directory='.',\n    command=command,\n    compute_target=target,\n)\n\n# AML \u3078\u306e script \u9001\u4fe1\nrun = exp.submit(config)\nprint(run.get_portal_url()) # link to ml.azure.com\nrun.wait_for_completion(show_output=True)\n")),(0,i.kt)("p",null,"Python \u74b0\u5883\u306e\u66f4\u65b0\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"setup.sh")," \u306b\u30b3\u30de\u30f3\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="setup.sh"',title:'"setup.sh"'},'echo "Running setup script"\npip install numpy\npip install pandas                  # \u8ffd\u52a0\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\nexport CUDA_VISIBLE_DEVICES="0,1"   # \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\nnvidia-smi                          # \u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e\u5b9f\u884c\n')),(0,i.kt)("p",null,"Docker \u30a4\u30e1\u30fc\u30b8\u3092\u518d\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002"))}c.isMDXComponent=!0}}]);